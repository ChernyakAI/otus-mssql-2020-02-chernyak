***************************************************************************************************
***                                                                                             ***
***   ОПИСАНИЕ ИТОГОВОГО ПРОЕКТА ПО КУРСУ "MS SQL Server разработчик" (ms-sql-server-2020-02)   ***
***                                                                                             ***
***************************************************************************************************

1) Описание бизнес идеи, какие проблемы решаются.
    Проект представляет собой систему для расчета платы, выставлению квитанций, сбора платежей
    за жилищного-коммунальные и др. услуги, оказываемые населению обслуживающими,
    энергосбытовыми и др. компаниями. Целевой объект - управляющая компания,
    расчётно-кассовый центр (РКЦ), энергосбытовая компания.

2) Требования к проекту по производительности, функциональности, безопасности.
    Производительность: система должна обеспечивать комфортную работу по обслуживанию населения:
        ввод справочных данных, ввод платежей, формирование отчётности.
    Основная функциональность:
        - ведение информации о жилищном фонде;
        - ведение лицевых счетов;
        - расчёт начислений в соответствии с методиками расчёта услуги;
        - приём оплат и распределение по услугам;
        - фиксация финансовых данных (закрытие периода);
        - подготовка данных для печати платёжных документов.

3) Схема базы данных
    Представлена в файле RKC.drawio, который можно открыть с помощью сайта
    (приложения) http://draw.io, либо в файле RKC.png (приложено к проекту).

4) Описание демонстрационной базы данных:
    * Выгрузка демонстрационной базы данных находится по адресу: https://yadi.sk/d/Zj1Ob3hNCKr_Qw
    * Скрипт создания базы данных находится в файле RKC_Install.sql
    * Скрипт заполнения основных классификаторов представлен в файле RKC_Data.sql:
        CD.Scales (Измерительные шкалы): внесено вручную. 4 записи.
        CD.Units (Единицы измерения): внесено вручную. 6 записей.
        CD.IndicatorTypes (Виды учётных показателей): внесено вручную. 10 записей.
        CD.CalculationMethods (Методы расчёта): внесено вручную. 5 записей.
        CD.Tariffs (Тарифы): внесено вручную. 11 записей.
        CD.Normatives (Нормативы): внесено вручную. 6 записей.
    * Заполнение классификатора типов адресных сокращений - хранимая процедура:
        [dbo].[UpdateAddressObjectTypes]
        Загрузка производится из файла с классификатором fias, скачанным с сайта ФНС.
        (приложен к проекту: AS_SOCRBASE.XML).
        Пример использования:
        exec dbo.UpdateAddressObjectTypes N'd:\fias\AS_SOCRBASE.XML' 
    * Остальные таблицы сгенерированы программно случайными данными:
        Ref.AddressObjects (Адресные объекты):
            Сгенерировано программно случайными данными. 1000 записей.
        Ref.Buildings (Строения):
            Сгенерировано программно случайными данными. 5000 записей.
        Ref.Persons (Физические лица):
            Сгенерировано программно случайными данными. 10000 записей.
        Ref.PersonalAccounts (Лицевые счета):
            Сгенерировано программно случайными данными. 10000 записей.
        Ref.Staff (Сотрудники):
            Сгенерировано программно случайными данными. 100 записей.
        Ref.Suppliers (Поставщики):
            Сгенерировано программно случайными данными. 10 записей.
        Ref.MeterDevices (Приборы учёта):
            Сгенерировано программно случайными данными. 30000 записей.
        Work.MeterDeviceScales (Измерительные шкалы приборов учёта):
            Сгенерировано программно случайными данными. 30000 записей.
        Work.MeterDeviceReadings (Показания приборов учёта):
            Сгенерировано программно случайными данными. 60000 записей.
        Work.PersonalAccountIndicators (Привязка учётных показателей к лицевым счетам):
            Сгенерировано программно случайными данными. 100000 записей.
        Work.MeterDeviceIndicators (Привязка приборов учёта к учётным показателям):
            Сгенерировано программно случайными данными. 30000 записей.
        Work.PersonalAccountLiving (Проживающие по лицевому счёту):
            Сгенерировано программно случайными данными. 10000 записей.
        Work.PersonalAccountEvents (События персонального учёта):
            Сгенерировано программно случайными данными. 10000 записей.
    

5) Демонстрация по основному бизнес-процессу: скрипт RKC_Demo.sql
    * Ввод нового лицевого счета;
    * Добавление учетных показателей;
    * Установка приборов учета;
    * Ввод показаний прибора учета;
    * Расчёт начислений в соответствии с методиками расчёта услуги;
    * Ввод оплаты
    * Закрытие месяца;
    * Подготовка данных для печати платёжных документов.

6) рассказать какие решения были приняты вам, что соответствовать требованиям к проекту, например,
 на какую нагрузку вы рассчитываете и какие решения приняли, чтобы ее выдержать.
    Проект рассчитан на ведение учёта в несколько десятков тысяч лицевых счетов в расчетно-
    кассовом центре или управляющей компании. Для стабильной работы системы приняты следующие меры:
        * проектрирование оптимальной структуры БД
        * создание индексов в таблицах под наиболее серьёзные операции: расчёт начислений и оплаты.
            Оптимизация расчета начислений: получение данных, необходимых для расчёта только
            по мере необходимости (например, для расчёта по нормативу показания не требуются).
        * при необходимости - формирование отчётов можно вынести в отдельное хранилище данных
            (Скрипт установки приложен: RKC_Install_DW.sql).
